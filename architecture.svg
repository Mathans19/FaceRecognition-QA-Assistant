<svg viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <!-- Gradients -->
    <linearGradient id="userGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#4F46E5;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#7C3AED;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="frontendGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#06B6D4;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#0891B2;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="backendGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#10B981;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#059669;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="ragGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#F59E0B;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#D97706;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="aiGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#EF4444;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#DC2626;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="dbGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#8B5CF6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#7C3AED;stop-opacity:1" />
    </linearGradient>
    
    <!-- Drop shadow filter -->
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="4" stdDeviation="3" flood-opacity="0.3"/>
    </filter>
  </defs>
  
  <!-- Background -->
  <rect width="800" height="600" fill="#F8FAFC"/>
  
  <!-- Title -->
  <text x="400" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#1E293B">
    RAG System Architecture
  </text>
  
  <!-- User Layer -->
  <rect x="350" y="60" width="100" height="50" rx="8" fill="url(#userGrad)" filter="url(#shadow)"/>
  <text x="400" y="80" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">USER</text>
  <text x="400" y="95" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">Interface</text>
  
  <!-- React Frontend Layer -->
  <rect x="50" y="150" width="700" height="80" rx="12" fill="url(#frontendGrad)" filter="url(#shadow)"/>
  <text x="70" y="175" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">React Frontend (Web)</text>
  
  <!-- Frontend Components -->
  <rect x="80" y="190" width="130" height="30" rx="6" fill="rgba(255,255,255,0.2)" stroke="rgba(255,255,255,0.4)" stroke-width="1"/>
  <text x="145" y="210" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">ğŸ“¹ Webcam: Register Faces</text>
  
  <rect x="240" y="190" width="130" height="30" rx="6" fill="rgba(255,255,255,0.2)" stroke="rgba(255,255,255,0.4)" stroke-width="1"/>
  <text x="305" y="210" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">ğŸ’¬ Chat: Ask Questions</text>
  
  <!-- Node.js Backend Layer -->
  <rect x="50" y="270" width="700" height="80" rx="12" fill="url(#backendGrad)" filter="url(#shadow)"/>
  <text x="70" y="295" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">Node.js Backend</text>
  
  <!-- Backend Components -->
  <rect x="80" y="310" width="180" height="30" rx="6" fill="rgba(255,255,255,0.2)" stroke="rgba(255,255,255,0.4)" stroke-width="1"/>
  <text x="170" y="330" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">ğŸ”— API: Face Registration, Chat</text>
  
  <rect x="290" y="310" width="180" height="30" rx="6" fill="rgba(255,255,255,0.2)" stroke="rgba(255,255,255,0.4)" stroke-width="1"/>
  <text x="380" y="330" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">âš¡ WebSocket: Live Messages</text>
  
  <!-- Python RAG Engine Layer -->
  <rect x="50" y="390" width="500" height="120" rx="12" fill="url(#ragGrad)" filter="url(#shadow)"/>
  <text x="70" y="415" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">Python RAG Engine (FastAPI)</text>
  
  <!-- RAG Components -->
  <rect x="80" y="430" width="110" height="25" rx="4" fill="rgba(255,255,255,0.2)" stroke="rgba(255,255,255,0.4)" stroke-width="1"/>
  <text x="135" y="447" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">ğŸ“Š Load SQLite Data</text>
  
  <rect x="210" y="430" width="110" height="25" rx="4" fill="rgba(255,255,255,0.2)" stroke="rgba(255,255,255,0.4)" stroke-width="1"/>
  <text x="265" y="447" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">ğŸ¤— HuggingFace Embed</text>
  
  <rect x="80" y="470" width="110" height="25" rx="4" fill="rgba(255,255,255,0.2)" stroke="rgba(255,255,255,0.4)" stroke-width="1"/>
  <text x="135" y="487" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">ğŸ” FAISS Vectors</text>
  
  <rect x="210" y="470" width="110" height="25" rx="4" fill="rgba(255,255,255,0.2)" stroke="rgba(255,255,255,0.4)" stroke-width="1"/>
  <text x="265" y="487" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">ğŸ”— LangChain Query</text>
  
  <!-- Gemini LLM -->
  <rect x="580" y="390" width="170" height="60" rx="12" fill="url(#aiGrad)" filter="url(#shadow)"/>
  <text x="595" y="415" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">Gemini LLM</text>
  <text x="595" y="435" font-family="Arial, sans-serif" font-size="11" fill="white">(Google API)</text>
  
  <!-- SQLite Database -->
  <rect x="580" y="470" width="170" height="80" rx="12" fill="url(#dbGrad)" filter="url(#shadow)"/>
  <text x="595" y="495" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">SQLite Database</text>
  
  <!-- Database Tables -->
  <rect x="600" y="510" width="130" height="15" rx="3" fill="rgba(255,255,255,0.2)" stroke="rgba(255,255,255,0.4)" stroke-width="1"/>
  <text x="665" y="521" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">ğŸ“‹ registrations</text>
  
  <rect x="600" y="530" width="130" height="15" rx="3" fill="rgba(255,255,255,0.2)" stroke="rgba(255,255,255,0.4)" stroke-width="1"/>
  <text x="665" y="541" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">ğŸ“ recognition_logs</text>
  
  <!-- Arrows -->
  <!-- User to Frontend -->
  <path d="M 400 110 L 400 140" stroke="#4B5563" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Frontend to Backend -->
  <path d="M 400 230 L 400 260" stroke="#4B5563" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Backend to RAG -->
  <path d="M 300 350 L 300 380" stroke="#4B5563" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- RAG to Gemini -->
  <path d="M 550 420 L 570 420" stroke="#4B5563" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- RAG to Database -->
  <path d="M 400 510 L 570 510" stroke="#4B5563" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#4B5563"/>
    </marker>
  </defs>
  
  <!-- Data Flow Labels -->
  <text x="410" y="130" font-family="Arial, sans-serif" font-size="9" fill="#6B7280">User Interaction</text>
  <text x="410" y="250" font-family="Arial, sans-serif" font-size="9" fill="#6B7280">HTTP/WebSocket</text>
  <text x="310" y="370" font-family="Arial, sans-serif" font-size="9" fill="#6B7280">RAG Processing</text>
  <text x="520" y="415" font-family="Arial, sans-serif" font-size="9" fill="#6B7280">AI Query</text>
  <text x="450" y="525" font-family="Arial, sans-serif" font-size="9" fill="#6B7280">Data Storage</text>
</svg>